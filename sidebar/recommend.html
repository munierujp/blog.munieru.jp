<div id="munieru-sidebar-recommend-list" style="text-align:center"></div>
<script>
(function () {
  const URL = 'https://api.munieru.jp/v1/recommend.json'
  window.addEventListener('load', () => {
    fetch(URL)
    .then(r => r.json())
    .then(r => r.items)
    .then(items => {
      const $itemList = $('#munieru-sidebar-recommend-list')

      items.forEach((item, i) => {
        const title = item.title.short
        const url = item.url.short
        const imageURL = item.image

        $itemList.append(`<div><a href="${url}" target="_blank"><img src="${imageURL}" style="height:200px"></a></div>`)
        $itemList.append(`<div><a href="${url}" target="_blank">${title}</a></div>`)
        if (i !== items.length - 1) {
          $itemList.append('<hr>')
        }
      })
    })
    .catch(e => console.error(e, URL))
  }, false)
})()
</script>
